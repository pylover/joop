(function(e){function r(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}function i(e,t){for(var n=[];t>0;n[--t]=e){}return n.join("")}var t=function(){if(!t.cache.hasOwnProperty(arguments[0])){t.cache[arguments[0]]=t.parse(arguments[0])}return t.format.call(null,t.cache[arguments[0]],arguments)};t.format=function(e,n){var s=1,o=e.length,u="",a,f=[],l,c,h,p,d,v;for(l=0;l<o;l++){u=r(e[l]);if(u==="string"){f.push(e[l])}else if(u==="array"){h=e[l];if(h[2]){a=n[s];for(c=0;c<h[2].length;c++){if(!a.hasOwnProperty(h[2][c])){throw t('[sprintf] property "%s" does not exist',h[2][c])}a=a[h[2][c]]}}else if(h[1]){a=n[h[1]]}else{a=n[s++]}if(/[^s]/.test(h[8])&&r(a)!="number"){throw t("[sprintf] expecting number but found %s",r(a))}switch(h[8]){case"b":a=a.toString(2);break;case"c":a=String.fromCharCode(a);break;case"d":a=parseInt(a,10);break;case"e":a=h[7]?a.toExponential(h[7]):a.toExponential();break;case"f":a=h[7]?parseFloat(a).toFixed(h[7]):parseFloat(a);break;case"o":a=a.toString(8);break;case"s":a=(a=String(a))&&h[7]?a.substring(0,h[7]):a;break;case"u":a=a>>>0;break;case"x":a=a.toString(16);break;case"X":a=a.toString(16).toUpperCase();break}a=/[def]/.test(h[8])&&h[3]&&a>=0?"+"+a:a;d=h[4]?h[4]=="0"?"0":h[4].charAt(1):" ";v=h[6]-String(a).length;p=h[6]?i(d,v):"";f.push(h[5]?a+p:p+a)}}return f.join("")};t.cache={};t.parse=function(e){var t=e,n=[],r=[],i=0;while(t){if((n=/^[^\x25]+/.exec(t))!==null){r.push(n[0])}else if((n=/^\x25{2}/.exec(t))!==null){r.push("%")}else if((n=/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(t))!==null){if(n[2]){i|=1;var s=[],o=n[2],u=[];if((u=/^([a-z_][a-z_\d]*)/i.exec(o))!==null){s.push(u[1]);while((o=o.substring(u[0].length))!==""){if((u=/^\.([a-z_][a-z_\d]*)/i.exec(o))!==null){s.push(u[1])}else if((u=/^\[(\d+)\]/.exec(o))!==null){s.push(u[1])}else{throw"[sprintf] huh?"}}}else{throw"[sprintf] huh?"}n[2]=s}else{i|=2}if(i===3){throw"[sprintf] mixing positional and named placeholders is not (yet) supported"}r.push(n)}else{throw"[sprintf] huh?"}t=t.substring(n[0].length)}return r};var n=function(e,n,r){r=n.slice(0);r.splice(0,0,e);return t.apply(null,r)};e.sprintf=t;e.vsprintf=n})(typeof exports!="undefined"?exports:window);"use strict";if(!("bind"in Function.prototype)){Function.prototype.bind=function(e){var t=this;if(arguments.length<=1){return function(){return t.apply(e,arguments)}}else{var n=Array.prototype.slice.call(arguments,1);return function(){return t.apply(e,arguments.length===0?n:n.concat(Array.prototype.slice.call(arguments)))}}}}if(!("trim"in String.prototype)){String.prototype.trim=function(){return this.replace(/^\s+/,"").replace(/\s+$/,"")}}if(!("indexOf"in Array.prototype)){Array.prototype.indexOf=function(e,t){if(t===undefined)t=0;if(t<0)t+=this.length;if(t<0)t=0;for(var n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1}}if(!("lastIndexOf"in Array.prototype)){Array.prototype.lastIndexOf=function(e,t){if(t===undefined)t=this.length-1;if(t<0)t+=this.length;if(t>this.length-1)t=this.length-1;for(t++;t-->0;)if(t in this&&this[t]===e)return t;return-1}}if(!("forEach"in Array.prototype)){Array.prototype.forEach=function(e,t){for(var n=0,r=this.length;n<r;n++)if(n in this)e.call(t,this[n],n,this)}}if(!("map"in Array.prototype)){Array.prototype.map=function(e,t){var n=new Array(this.length);for(var r=0,i=this.length;r<i;r++)if(r in this)n[r]=e.call(t,this[r],r,this);return n}}if(!("filter"in Array.prototype)){Array.prototype.filter=function(e,t){var n=[],r;for(var i=0,s=this.length;i<s;i++)if(i in this&&e.call(t,r=this[i],i,this))n.push(r);return n}}if(!("every"in Array.prototype)){Array.prototype.every=function(e,t){for(var n=0,r=this.length;n<r;n++)if(n in this&&!e.call(t,this[n],n,this))return false;return true}}if(!("some"in Array.prototype)){Array.prototype.some=function(e,t){for(var n=0,r=this.length;n<r;n++)if(n in this&&e.call(t,this[n],n,this))return true;return false}}if(!Object.create){Object.create=function(){function e(){}return function(t){if(arguments.length!=1){throw new Error("Object.create implementation only accepts one parameter.")}e.prototype=t;return new e}}()}if(typeof String.prototype.startsWith!="function"){String.prototype.startsWith=function(e){return this.slice(0,e.length)==e}}if(typeof String.prototype.endsWith!="function"){String.prototype.endsWith=function(e){return this.slice(-e.length)==e}}if(typeof String.prototype.format!="function"){String.prototype.format=function(){args=[this];for(var e=0;e<arguments.length;e++){args.push(arguments[e])}return sprintf.apply(null,args)}}var asArray=function(e,t){if(!t){t=0}return Array.prototype.slice.call(e,t)};var isFunction=function(e){return typeof e==="function"};var isWindow=function(e){return e!=null&&e==e.window};var isPlainObject=function(e){var t;if(!e||typeof e!=="object"||e.nodeType||isWindow(e)){return false}try{if(e.constructor&&!Object.hasOwnProperty.call(e,"constructor")&&!Object.hasOwnProperty.call(e.constructor.prototype,"isPrototypeOf")){return false}}catch(n){return false}for(t in e){}return t===undefined||Object.hasOwnProperty.call(e,t)};var isInstanceOf=function(e,t){if(typeof e==="string"&&t===String)return true;if(typeof e==="number"&&t===Number)return true;if(e instanceof t)return true;if(e["isInstanceOf"])return e.isInstanceOf(t);return false};var isArray=Array.isArray||function(e){return Object.prototype.toString.call(someVar)==="[object Array]"};extend=function(){var e,t,n,r,i,s,o=arguments[0]||{},u=1,a=arguments.length,f=false;if(typeof o==="boolean"){f=o;o=arguments[1]||{};u=2}if(typeof o!=="object"&&!isFunction(o)){o={}}if(a===u){o=this;--u}for(;u<a;u++){if((i=arguments[u])!=null){for(r in i){e=o[r];n=i[r];if(o===n){continue}if(f&&n&&(isPlainObject(n)||(t=isArray(n)))){if(t){t=false;s=e&&isArray(e)?e:[]}else{s=e&&isPlainObject(e)?e:{}}o[r]=extend(f,s,n)}else if(n!==undefined){o[r]=n}}}}return o};var Namespace=function(e){var t=e.split(".");var n=window;for(var r=0,i=t.length;r<i;r++){n[t[r]]={};n=n[t[r]]}return n};Namespace("joop");var Class=function(){var definitions=asArray(arguments);var className=definitions[0];if(typeof className!="string"){throw"Class Name was not provided"}var classConstructor=eval("window.%s = function (){ 				this.__class__ = %s; 				%s.prototype.__init__.apply(this,arguments); 			};%s".format(className,className,className,className));classConstructor.prototype=Object.create(joop.Object.prototype);var bases=definitions.filter(function(e,t,n){return t>0&&t<n.length-1});if(bases.length<=0&&className!="joop.Object"){bases=[joop.Object]}for(var i in bases){if(bases[i]==undefined){throw"Invalid base class: %s".format(bases[i])}extend(classConstructor,bases[i],{prototype:classConstructor.prototype});classConstructor.prototype=extend(false,classConstructor.prototype,Object.create(bases[i].prototype))}classConstructor.prototype=extend(false,{},classConstructor.prototype,definitions[definitions.length-1],{constructor:classConstructor});extend(classConstructor,{__name__:className,__base_classes__:bases,StaticMembers:function(e){return extend(classConstructor,e)}});return eval(className)};var Singleton=function(){var definitions=asArray(arguments);var className=definitions[0];var constructor=Class.apply(this,arguments);var instance=new constructor;eval("%s = instance;".format(className));return instance};Class("joop.Object",{__init__:function(){},callSuper:function(e,t,n){if(n==undefined){n=[]}return e.prototype[t].apply(this,n)},__repr__:function(){return this.__class__.__name__},isInstanceOf:function(e){return this.__class__.isSubclassOf(e)}}).StaticMembers({isSubclassOf:function(e){if(this.__name__==e.__name__)return true;for(var t=0,n=this.__base_classes__.length;t<n;t++){var r=this.__base_classes__[t];if(r.isSubclassOf.apply(r,[e])){return true}}return false}})